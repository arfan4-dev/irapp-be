# YEH LINE BILKUL SHURU SE START HONI CHAHIYE, BINA KISI SPACE KE
name: Deploy Backend to EC2

# 'on:' BHI BILKUL SHURU SE HONA CHAHIYE
on:
  # 'push:' 2 spaces ke baad
push:
    # 'branches:' 4 spaces ke baad
branches:
- master

# 'jobs:' BHI BILKUL SHURU SE HONA CHAHIYE
jobs:
  # 'deploy:' 2 spaces ke baad
deploy:
    # 'runs-on:' 4 spaces ke baad
runs - on: self - hosted
    # 'steps:' 4 spaces ke baad
steps:
      # Har step '-' se shuru hota hai, jo 6 spaces ke baad hai
  - name: Checkout Code
uses: actions / checkout@v4

- name: Setup Node.js
uses: actions / setup - node@v4
with:
node - version: '20.x'
cache: 'npm'

  - name: Run Deployment Script
run: ./ deploy.sh

  - name: Send Slack Notification on Success
if: success()
uses: rtCamp / action - slack - notify@v2
env:
SLACK_WEBHOOK_URL: ${ { secrets.SLACK_WEBHOOK_URL } }
SLACK_COLOR: 'good'
SLACK_TITLE: 'âœ… Deployment Successful'
SLACK_MESSAGE: 'Deployment to production server was successful. Latest changes are now live.'
SLACK_FOOTER: 'Repository: ${{ github.repository }} | Triggered by: ${{ github.actor }}'