name: Deploy Backend to EC2

on:
push:
branches:
- master

jobs:
deploy:
runs - on: self - hosted
steps:
- name: Checkout Code
uses: actions / checkout@v4

- name: Setup Node.js
uses: actions / setup - node@v4
with:
node - version: '20.x'
cache: 'npm'

  - name: Run Deployment Script
run: ./ deploy.sh

  - name: Send Slack Notification on Success
if: success()
uses: rtCamp / action - slack - notify@v2
env:
SLACK_WEBHOOK_URL: ${ { secrets.SLACK_WEBHOOK_URL } }
SLACK_COLOR: 'good'
SLACK_TITLE: 'âœ… Deployment Successful'
SLACK_MESSAGE: 'Deployment to production server was successful. Latest changes are now live.'
SLACK_FOOTER: 'Repository: ${{ github.repository }} | Triggered by: ${{ github.actor }}'